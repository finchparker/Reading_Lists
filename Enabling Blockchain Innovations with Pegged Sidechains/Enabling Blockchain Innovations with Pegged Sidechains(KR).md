### 7 Acknowledgements 

We would like to thank Gavin Andresen, Corinne Dashjr, Mathias Dybvik, Daniel Folkinshteyn, Ian Grigg, Shaul Kfir, midnightmagic, Patrick Strateman, Kat Walsh, and Glenn Willen for reviewer comments.

#### Appendix A Federated Peg 

페그된 사이드 체인을 deploying 하는데 있어서 현재 큰 문제점 중 하나는 비트코인 스크립트가 현재 SPV 증명을 인코딩할만한 표현력이 부족합니다.  The required expressiveness could be added in a safe, compatible, and highly compartmentalised way (e.g., by converting a no-op instruction into an OP_SIDECHAINPROOFVERIFY in a soft-fork). 그러나, 새로운 합의 알고리즘을 만드는 것, 심지어 간단한 새로운 기능을 배포하는 것 조차도 쉽지 않다. 이러한 어려움들을 recall 하는 것이 페그된 사이드 체인을 시작하는 주된 동기 중 하나였다. What we want is a way to try out future script capabilities for Bitcoin without deploying them everywhere.

다행히도, 몇가지 추가적인 security assumptions at the expense of the low trust design objective, 완벽한 비허가형 방법으로 initial deployment 하는 것이 가능해졌다. The key observation is that any enhancement to Bitcoin Script can be implemented externally by having a trusted federation of mutually distrusting functionaries(13) evaluate the script and accept by signing for an ordinary multisignature script. That is, the functionaries act as a protocol adaptor by evaluating the same rules we would have wanted Bitcoin to evaluate, but cannot for lack of script enhancements. 이를 통하여 federated peg 를 완성할 수 있다. 

이 방법은 다중 서명 오프체인 거래 시스템을 구현하는 방법과 상당히 비슷하다, 하지만 필요한 서버간 합의 프로세스는 is provided by simply observing the blockchains in question. 결과는 결정론적이고, highly-auditable process which simplifies the selection and supervision of functionaries. 이러한 유사성 때문에, 많은 기술들은 보안성을 높이고 and confidence in off-chain payment systems can be employed for federated pegs. For example: functionaries can be geographically diverse, bonded via escrowed coins or expensive-to-create coercion-resistant pseudonymous identities, implemented on remote- attesting tamper-resistant hardware, and so on[Tod13]. 더 작은 규모에서는, 해당 시스템에서 코인의 소유자들은 그들 스스로가 functionaries 로서 활동할 수 있다, 그럼으로써 제 3 기관의 신뢰를 회피할 수 있다. 

federated peg 를 사용하는 사이드 체인들이 사용되고 있으면, the addition of SPV verification to Bitcoin script can be seen as merely a security upgrade to reduce the trust required in the system. Existing sidechains could simply migrate their coins to the new verification system. 이는 추가적인 보안 옵션을 가능케한다 : the DMMS provided by mining is not very secure for small systems, while the trust of the federation is riskier for large systems. A sidechain could adaptively use both of these approaches in parallel, or even switch based on apparent hashrate.

Consider the example of a sidechain using a 3 of 5 federation of functionaries to implement a two-way peg with Bitcoin. The federation has secp256k1 public points (public keys) P1, P2, P3, P4, and P5 and a redeemscript template 3 x x x x x 5 OP_CHECKMULTISIG known to all participants in the sidechain. 코인을 ScriptPubKey SPK 에 보내려면, a user who wants the coins to become available on a sidechain using the federated peg computes a cross-chain P2SH[And12a] address by the following key derivation scheme:

Algorithm 1 

This derivation scheme is based on the same homomorphic technique [Max11] used in BIP32 to allow third parties to derive publicly unlinkable addresses. It is the same underlying construction as a pay-to-contract transaction [GH12]. After generating the address, coins can be paid to it, and the user can later receive the resulting coins on the sidechain by providing the functionaries with the nonce, ScriptPubKey, and an SPV proof to help them locate the payment in the blockchain. In order to aid third-party verification of the sidechain, these values could be included in the sidechain itself. Because the transfer is made by paying to a standard P2SH address and can pay to any ScriptPubKey, all Bitcoin services which can pay to a multisignature address will immediately be able to pay into, or receive payments from, a user using a federated sidechain.

The federated peg approach necessarily compromises on trust, but requires no changes to Bitcoin — only the participants need to agree to use it and only the participants take the costs or risks of using it. Further, if someone wanted to prevent other people from using a sidechain they could not do so: if the federated peg is used privately in a closed community, its use can be made undetectable and uncensorable. This approach allows rapid deployment and experimentation and will allow the community to gain confidence in pegged sidechains before adopting any changes to the Bitcoin protocol.